<!DOCTYPE html>



  


<html class="theme-next mist use-motion" lang="zh-Hans">
<head><meta name="generator" content="Hexo 3.9.0">
  <meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
<meta name="theme-color" content="#222">









<meta http-equiv="Cache-Control" content="no-transform">
<meta http-equiv="Cache-Control" content="no-siteapp">
















  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css">







<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css">

<link href="/css/main.css?v=5.1.4" rel="stylesheet" type="text/css">


  <link rel="apple-touch-icon" sizes="180x180" href="/images/favicon.ico?v=5.1.4">


  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon.ico?v=5.1.4">


  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon.ico?v=5.1.4">


  <link rel="mask-icon" href="/images/favicon.ico?v=5.1.4" color="#222">





  <meta name="keywords" content="历史,春秋,战国,周朝,秦朝,">










<meta name="description" content="周天子的势力减弱，群雄纷争，齐桓公、宋襄公、晋文公、秦穆公、楚庄王相继称霸，史称“春秋五霸”。据史书记载，春秋二百四十二年间，有三十六名君主被臣下或敌国杀之，五十二个诸侯国被灭。有大小战事四百八十多次，诸侯的朝聘和盟会四百五十余次。战国承春秋时代的乱世，启帝秦发端，中续百家争鸣，各国相继图强而举国变法，涌现了大量名将争锋和名士纵横捭阖之典故，为后世传诵。">
<meta name="keywords" content="历史,春秋,战国,周朝,秦朝">
<meta property="og:type" content="article">
<meta property="og:title" content="春秋战国">
<meta property="og:url" content="https://hihcys.github.io/2020/06/18/春秋战国/index.html">
<meta property="og:site_name" content="青青草原">
<meta property="og:description" content="周天子的势力减弱，群雄纷争，齐桓公、宋襄公、晋文公、秦穆公、楚庄王相继称霸，史称“春秋五霸”。据史书记载，春秋二百四十二年间，有三十六名君主被臣下或敌国杀之，五十二个诸侯国被灭。有大小战事四百八十多次，诸侯的朝聘和盟会四百五十余次。战国承春秋时代的乱世，启帝秦发端，中续百家争鸣，各国相继图强而举国变法，涌现了大量名将争锋和名士纵横捭阖之典故，为后世传诵。">
<meta property="og:locale" content="zh-Hans">
<meta property="og:image" content="https://hihcys.github.io/images/%E6%98%A5%E7%A7%8B%E5%9C%B0%E5%9B%BE.jpg">
<meta property="og:image" content="https://hihcys.github.io/images/%E6%88%98%E5%9B%BD%E5%9C%B0%E5%9B%BE.jpg">
<meta property="og:updated_time" content="2020-06-22T08:41:44.291Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="春秋战国">
<meta name="twitter:description" content="周天子的势力减弱，群雄纷争，齐桓公、宋襄公、晋文公、秦穆公、楚庄王相继称霸，史称“春秋五霸”。据史书记载，春秋二百四十二年间，有三十六名君主被臣下或敌国杀之，五十二个诸侯国被灭。有大小战事四百八十多次，诸侯的朝聘和盟会四百五十余次。战国承春秋时代的乱世，启帝秦发端，中续百家争鸣，各国相继图强而举国变法，涌现了大量名将争锋和名士纵横捭阖之典故，为后世传诵。">
<meta name="twitter:image" content="https://hihcys.github.io/images/%E6%98%A5%E7%A7%8B%E5%9C%B0%E5%9B%BE.jpg">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Mist',
    version: '5.1.4',
    sidebar: {"position":"left","display":"post","offset":12,"b2t":false,"scrollpercent":false,"onmobile":false},
    fancybox: true,
    tabs: true,
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    duoshuo: {
      userId: '0',
      author: '博主'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="https://hihcys.github.io/2020/06/18/春秋战国/">





  <title>春秋战国 | 青青草原</title>
  








</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-Hans">

  
  
    
  

  <div class="container sidebar-position-left page-post-detail">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/" class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">青青草原</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <p class="site-subtitle"></p>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br>
            
            首页
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br>
            
            归档
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-tags"></i> <br>
            
            标签
          </a>
        </li>
      

      
        <li class="menu-item menu-item-search">
          
            <a href="javascript:;" class="popup-trigger">
          
            
              <i class="menu-item-icon fa fa-search fa-fw"></i> <br>
            
            搜索
          </a>
        </li>
      
    </ul>
  

  
    <div class="site-search">
      
  <div class="popup search-popup local-search-popup">
  <div class="local-search-header clearfix">
    <span class="search-icon">
      <i class="fa fa-search"></i>
    </span>
    <span class="popup-btn-close">
      <i class="fa fa-times-circle"></i>
    </span>
    <div class="local-search-input-wrapper">
      <input autocomplete="off" placeholder="搜索..." spellcheck="false" type="text" id="local-search-input">
    </div>
  </div>
  <div id="local-search-result"></div>
</div>



    </div>
  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            

  <div id="posts" class="posts-expand">
    

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://hihcys.github.io/2020/06/18/春秋战国/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="hihcys">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="青青草原">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">春秋战国</h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2020-06-18T20:38:52+08:00">
                2020-06-18
              </time>
            

            

            
          </span>

          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
                <a href="/2020/06/18/春秋战国/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count valine-comment-count" data-xid="/2020/06/18/春秋战国/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          
             <span id="/2020/06/18/春秋战国/" class="leancloud_visitors" data-flag-title="春秋战国">
               <span class="post-meta-divider">|</span>
               <span class="post-meta-item-icon">
                 <i class="fa fa-eye"></i>
               </span>
               
                 <span class="post-meta-item-text">阅读次数&#58;</span>
               
                 <span class="leancloud-visitors-count"></span>
             </span>
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        <p>周天子的势力减弱，群雄纷争，齐桓公、宋襄公、晋文公、秦穆公、楚庄王相继称霸，史称“春秋五霸”。据史书记载，春秋二百四十二年间，有三十六名君主被臣下或敌国杀之，五十二个诸侯国被灭。有大小战事四百八十多次，诸侯的朝聘和盟会四百五十余次。战国承春秋时代的乱世，启帝秦发端，中续百家争鸣，各国相继图强而举国变法，涌现了大量名将争锋和名士纵横捭阖之典故，为后世传诵。</p>
<a id="more"></a>

<h2 id="春秋时期"><a href="#春秋时期" class="headerlink" title="春秋时期"></a>春秋时期</h2><p>周平王元年（前770年）到周敬王四十四年（前476年）为止。</p>
<p><img src="../../../../images/%E6%98%A5%E7%A7%8B%E5%9C%B0%E5%9B%BE.jpg" alt></p>
<h3 id="重要事件"><a href="#重要事件" class="headerlink" title="重要事件"></a>重要事件</h3><h4 id="周平王迁都"><a href="#周平王迁都" class="headerlink" title="周平王迁都"></a>周平王迁都</h4><p>周幽王时期，周室走向瓦解崩溃，废立太子宜臼，将西周推入深渊。宜臼外公申侯联合曾侯、许文公及犬戎（外族）推翻周幽王，都城宗周被毁坏，后周平王上任，前770年周平王被迫将国都从镐京迁至成周（雒邑）。因雒邑在镐京之东，此后的周朝史称东周。王室放弃了原本的关中地区（宗周），只有洛邑周边（成周）一小块王畿，而失去对其他诸侯国的控制。</p>
<h4 id="卿士郑庄公"><a href="#卿士郑庄公" class="headerlink" title="卿士郑庄公"></a>卿士郑庄公</h4><p>周桓王十三年（前707年），由于郑庄公不尊王室的问题与郑国争执，周桓王率陈、蔡、卫等国军队讨伐郑国，郑庄公领兵抗拒，两军战于𦈡葛（今河南长葛北），史称“𦈡葛之战”，郑庄公打败了王师，一箭射中周王的肩膀。说明周王的地位已严重下降，只是还保存着天下共主的虚名罢了，诸侯争霸的时代正式到来。</p>
<h4 id="齐桓公称霸"><a href="#齐桓公称霸" class="headerlink" title="齐桓公称霸"></a>齐桓公称霸</h4><p>前685年，齐国君主齐桓公继位，以管仲为相，实施变法，废除井田制度，按土地的肥瘠，确定赋税，设盐、铁官和铸钱，增加财政收入，寓兵于农，将基层行政组织和军事组织合为一体，增加了兵源和作战能力，迅速成为华夏各国中最富强的国家。然后就打起了“尊王攘夷”的口号，多次大会诸侯，帮助或干涉其他国家，抗击夷狄。</p>
<p>周惠王二十一年（前656年），齐桓公带领八个诸侯国的联军，陈兵“蛮夷”楚国边境，质询楚国为何不向周王室朝贡，迫使楚国签订召陵之盟，又于公元前651年举行葵丘会盟，成为春秋五霸之首。自此，齐桓公建立了会盟霸主的制度。</p>
<h4 id="宋楚之争"><a href="#宋楚之争" class="headerlink" title="宋楚之争"></a>宋楚之争</h4><p>齐桓公死后，五公子夺位，齐国内乱不止。传说，齐桓公的五个儿子互相战争，箭矢射到了齐桓公的尸体上，都没有人顾及。南方的楚国兴起，自称为王，消灭了其北方的几个小国之后将矛头指向中原。宋襄公试图效法齐桓公，以抵抗楚国进攻为名，再次大会诸侯以成为霸主，但宋国实力与威望都不足。宋襄公十五年（前638年），宋楚两军交战于泓水。楚军渡河时宋大司马子鱼建议宋襄公“半渡击之”，宋襄公称趁敌渡河时攻击是为不仁不义拒绝建议；楚军渡河后子鱼建议趁楚军列阵混乱之时攻击，宋襄公再次以不仁不义为由拒绝。楚军列阵完毕后发起攻击，宋军大败，宋襄公大腿中箭，次年因伤重而死。楚成王称雄一时。</p>
<h4 id="晋文公践土之盟"><a href="#晋文公践土之盟" class="headerlink" title="晋文公践土之盟"></a>晋文公践土之盟</h4><p>在北方的晋国，与周室同宗。晋献公时期晋国向四面扩张，领土和国力大增。但献公宠信爱姬，废嫡立幼，致使国政大乱。前636年，晋献公之子重耳在秦穆公派出的军队护送下继承晋国君位，是为晋文公。他改革政治，发展经济，整军经武，取信于民，安定王室，友好秦国（秦晋之好），在诸侯中威信很高。周襄王二十年（前633年），楚军包围宋国都城商丘。次年初，晋文公率兵救宋，在城濮之战大败楚军，然后会盟于践土，成为中原霸主。</p>
<h4 id="秦穆公独霸西戎"><a href="#秦穆公独霸西戎" class="headerlink" title="秦穆公独霸西戎"></a>秦穆公独霸西戎</h4><p>晋文公死后，秦晋联盟被瓦解，秦穆公谋求向东方发展，被晋所阻。秦晋殽之战（前627年），秦全军覆没，大将孟明视被俘虏，隔年在彭衙之战再败，虽然以后有王官之战的胜利，但终没法挑战晋在中原的地位，惟有转而向西发展,秦穆公任用由余,吞并了一些戎狄部族，宽地千里，独霸西戎。</p>
<h4 id="楚庄王问鼎中原"><a href="#楚庄王问鼎中原" class="headerlink" title="楚庄王问鼎中原"></a>楚庄王问鼎中原</h4><p>楚国在城濮战后，向东发展，灭了许多小国，势力南到今云南，北达黄河。楚庄王改革内政，平息暴乱，启用贤臣孙叔敖兴修水利，改革军制，国力更为强大，在攻克陆浑戎后，竟陈兵周郊，向周定王的使者询问象征国家政权的传国宝器 - 九鼎的大小轻重，意在灭周自立，此即“问鼎”一词的来源。周定王十年（前597年），楚与晋会战于邲（邲之战），大胜晋国。前594年，楚围宋，宋告急于晋，晋不能救，宋遂与楚言和，尊楚。这时中原各国除晋、齐、鲁之外，尽尊楚庄王为霸主。</p>
<h4 id="晋楚大战与弭兵会盟"><a href="#晋楚大战与弭兵会盟" class="headerlink" title="晋楚大战与弭兵会盟"></a>晋楚大战与弭兵会盟</h4><p>晋楚两大国之间连续不断的战争给人民带来巨大的灾难，也引起中小国家的厌倦，加以晋楚两大国势均力敌，谁都无法击垮对方。于是由宋国发起，于周简王七年（前579年）举行第一次“弭兵”会盟，是为华元弭兵。但是不久之后，会盟破裂。晋楚两国再度爆发两次大规模战役（前576年的鄢陵之战、前557年的湛阪之战），虽皆以晋国获胜收场，但楚国在中原地区仍与晋国保持势均力敌的态势，很多中原小国都备受到影响，疲惫不堪。周灵王二十六年（前546年），出于地缘政治的影响，宋国再次出面斡旋，邀请晋楚和各诸侯国举行第二次“弭兵”会盟，此后战争大大减少。史称‘向戌弭兵’。</p>
<h4 id="吴越雄霸东南"><a href="#吴越雄霸东南" class="headerlink" title="吴越雄霸东南"></a>吴越雄霸东南</h4><p>当中原诸侯争霸接近尾声时，地处江浙的吴、越开始发展。吴王阖闾重用孙武、伍子胥等人。周敬王十四年（前506年），吴王以伍子胥为大将，统兵伐楚。吴军攻进楚都郢，伍子胥为父兄报仇，掘楚平王墓，鞭尸三百。周敬王二十四年（前496年）吴军挥师南进伐越。越王勾践率兵迎战，越大夫灵姑浮一戈击中阖闾，阖闾因伤逝世。周敬王二十六年（前494年），吴王夫差为父报仇，兴兵败越。勾践求和，贿赂吴臣伯嚭并送给吴王珍宝和美女西施，自己亲自为夫差牵马。吴王拒绝了伍子胥联齐灭越的建议，接受越国求和，转兵向北进击，大败齐军，成为小霸。勾践卧薪尝胆，十年生聚，十年教训，终于在周元王三年（前473年）消灭吴国，夫差羞愤自杀。勾践北上与齐晋会盟于徐，成为最后一个霸主。</p>
<h4 id="三家分晋"><a href="#三家分晋" class="headerlink" title="三家分晋"></a>三家分晋</h4><p>在晋文公回晋即位的时候，有不少随从随他回国，结果这些人渐渐在晋国成为世袭贵族，而晋国的国政亦落入这些贵族（士大夫）的手上。前455年，晋国贵族只余下智、赵、韩、魏四家。智氏出兵攻赵氏，并胁迫魏韩两氏出兵。战事持续两年后，赵氏游说魏韩两家倒戈，灭智氏，瓜分智地并把持晋国国政，史称三家分晋。到晋幽公仅余绛、曲沃两地。前403年周威烈王册立韩赵魏三家为侯国，即为资治通鉴中春秋战国的分界点。</p>
<h2 id="战国时期"><a href="#战国时期" class="headerlink" title="战国时期"></a>战国时期</h2><p>周敬王四十四年（前476）到秦始皇二十六年（前221年）秦统一中原。</p>
<p><img src="../../../../images/%E6%88%98%E5%9B%BD%E5%9C%B0%E5%9B%BE.jpg" alt></p>
<h3 id="重要事件-1"><a href="#重要事件-1" class="headerlink" title="重要事件"></a>重要事件</h3><h4 id="李悝变法"><a href="#李悝变法" class="headerlink" title="李悝变法"></a>李悝变法</h4><p>桓谭以为李悝为文侯师，班固、高诱以为是文侯之相。由于先秦文献缺乏记载，故此说尚难证实。但可以肯定的是李悝能参与机密，为文侯心腹之臣。司马迁说：“魏用李克尽地力，为强君。”班固称李悝“富国强兵”。</p>
<h4 id="魏灭中山"><a href="#魏灭中山" class="headerlink" title="魏灭中山"></a>魏灭中山</h4><p>魏灭中山之战发生于战国时代初期(前408年至前406年)期间，魏国攻灭中山国的一场战争。周威烈王十八年至二十年(公元前408—前406年)，魏军在顾(今河北定州)攻灭中山国的作战。经过三年作战，中山军力量消耗已尽。二十年，魏军终于攻克顾城，占领中山国全境。魏文侯随即命太子击镇守中山地，而封乐羊于灵寿(今河北灵寿西北)。中山国亡。</p>
<h4 id="三晋伐齐之战"><a href="#三晋伐齐之战" class="headerlink" title="三晋伐齐之战"></a>三晋伐齐之战</h4><p>三晋伐齐之战是中国战国时代初期的一场大规模战争。前後耗时2年，以三晋胜利而告终。是役齐康公被联军所俘虏，与三晋之君一起朝见周天子。齐康公并请求封三晋为诸侯。次年，九鼎声响，三晋成为了诸侯。</p>
<h4 id="吴起变法"><a href="#吴起变法" class="headerlink" title="吴起变法"></a>吴起变法</h4><p>春秋中期后，晋国以“尽灭群公子”、“灭公族”等手段打击国君近亲势力、加强国君权力时，楚国才开始任用公子执政。公子执政初期，确实起到了强化王权的作用。但这实际是种落后任人唯亲的制度，其结果形成了王权旁落、大臣太重、封君太重的弊病。战国初期，楚国民不聊生，饿殍遍野，楚声王竟至为“盗”所杀。而此时北方三晋正在兴起，国力强大，对楚步步进逼，楚国处于十分困窘的境地。在楚国内忧外困之时，中原政治家吴起从魏国到楚国。楚悼王素闻吴起贤能，公元前382年，楚悼王任命吴起为令尹，主持变法。吴起变法，从打击大贵族入手。</p>
<h4 id="阴晋之战"><a href="#阴晋之战" class="headerlink" title="阴晋之战"></a>阴晋之战</h4><p>阴晋之战是指公元前389年，秦军为夺取被魏占领的河西地区，而动用50万大军攻魏，而魏军在名将吴起率领下以在阴晋以少胜多的著名战役。</p>
<h4 id="韩灭郑"><a href="#韩灭郑" class="headerlink" title="韩灭郑"></a>韩灭郑</h4><p>前423年，韩武子伐郑，杀郑幽公。郑人立幽公弟郑??公。前408年，韩景侯伐郑，取雍丘。郑在京筑城。前407年，郑伐韩，于负黍(在洛州阳城县西南三十五里)大败韩兵。前400年，郑围韩国阳翟。前398年，郑??公杀其相驷子阳。前396年，驷子阳之党杀弑??公而立幽公弟为郑康公。前394年，负黍反郑归韩。前385年，韩伐郑，取阳城。前375年，韩哀侯灭郑，不久迁都到郑国故都新郑。</p>
<h4 id="浊泽之战"><a href="#浊泽之战" class="headerlink" title="浊泽之战"></a>浊泽之战</h4><p>周烈王七年(公元前369年)，在魏与韩赵之战中，韩、赵联军在浊泽(今山西运城境)进攻魏军的作战。 史称“浊泽之战”此战，联军在取得绝对优势的情况下，由于赵、韩的严重分歧，因不能协同而由胜转败，使魏国终免于分割。</p>
<h4 id="商鞅变法"><a href="#商鞅变法" class="headerlink" title="商鞅变法"></a>商鞅变法</h4><p>商鞅变法是指战国时期秦国的秦孝公即位以后，决心图强改革，便下令招贤。商鞅自魏国入秦，并提出了废井田、重农桑、奖军功、实行统一度量和建立县制等一整套变法求新的发展策略，深得秦孝公的信任，任他为左庶长，开始变法。经过商鞅变法，秦国的经济得到发展，军队战斗力不断加强，发展成为战国后期最富强的封建国家。</p>
<h4 id="桂陵之战"><a href="#桂陵之战" class="headerlink" title="桂陵之战"></a>桂陵之战</h4><p>桂陵之战是历史上一次著名截击战，发生在河南长垣西北的。周显王十五年(公元前354年)，魏围攻赵都邯郸，次年赵向齐求救。齐王命田忌、孙膑率军援救。孙膑认为魏以精锐攻赵，国内空虚，遂引兵攻魏都大梁(今河南开封)。果然诱使魏将庞涓赶回应战。孙膑又在桂陵(今河南长垣)伏袭，大败魏军，并生擒庞涓。孙膑在此战中避实击虚、攻其必救，创造了“围魏救赵”战法，成为两千多年来军事上诱敌就范的常用手段。</p>
<h4 id="马陵之战"><a href="#马陵之战" class="headerlink" title="马陵之战"></a>马陵之战</h4><p>公元前344年召集天下诸侯自立为王。齐、楚等大国不来还情有可原，但一向是魏国小弟的韩国没参加就让魏惠王生气了。于是魏国发兵攻韩，韩国向齐国求援，齐国再次以田忌、孙膑为将率军救韩，庞涓率魏军追击齐军，在马陵到遭埋伏，魏太子申被俘，魏军全军覆没，庞涓自刎而死。魏国在兵力缺乏、国力大衰的情况下，无暇对付秦军。</p>
<h4 id="第五次河西之战"><a href="#第五次河西之战" class="headerlink" title="第五次河西之战"></a>第五次河西之战</h4><p>公元前339年，秦军再由庞城渡河进攻，于岸门（今山西省河津县南）击败魏援军，俘主将魏错。次年年底，秦孝公死，秦惠文王继位，杀商鞅，重用魏人公孙衍。公元前332年，秦惠王派军攻魏上郡重地雕阴（今陕西甘泉南）。魏防守河西的主将龙贾，集中兵力迎战。经2年激战，至三十九年（公元前330年），全歼魏军，斩首4.5万（此据《史记.魏世家》，《秦本纪》为8万），并俘虏了龙贾。魏被迫于次年将河西郡归还秦国。至此，秦全部收复了被魏夺占的河西地区。</p>
<h4 id="秦灭巴蜀"><a href="#秦灭巴蜀" class="headerlink" title="秦灭巴蜀"></a>秦灭巴蜀</h4><p>周慎靓王五年(公元前316年)，秦国张仪、司马错等率军攻灭巴(今四川东部)、蜀(今四川西部)的作战。</p>
<h4 id="齐破燕"><a href="#齐破燕" class="headerlink" title="齐破燕"></a>齐破燕</h4><p>齐破燕之战，指前314年，齐国大举兴兵讨伐燕国，一度灭亡燕国的事件。前316年，燕王哙禅位于相国子之，进行改革，国内大乱。前314年，太子平与将军市被反叛，最后被平定，太子平、市被被杀，死者数万。此时，齐宣王派匡章率军，五十天内攻下燕国，燕王哙被杀，子之逃亡，后被齐人抓住做成肉酱。但是，齐军军纪败坏，燕国各地反抗。赵、魏、韩、楚、秦等国也反对齐国吞并燕国。前312年，齐国撤军。</p>
<h4 id="楚灭越"><a href="#楚灭越" class="headerlink" title="楚灭越"></a>楚灭越</h4><p>前306年，宜阳战后，秦武王死，秦国发生内乱。楚威王乘秦国无暇对楚用兵之际，利用越国内部不稳定的机会，派大臣昭滑率军攻越。楚军首先攻占原吴国统治的地区，尔后，继续向越进攻，占领越国全部领土，杀越王无疆，灭越，改越地为江东郡。越余部分为许多小国散处于滨海地区，朝服于楚。</p>
<h4 id="伊阙之战"><a href="#伊阙之战" class="headerlink" title="伊阙之战"></a>伊阙之战</h4><p>周赧王二十二年(前293年)，秦国战神白起率秦军在洛阳龙门伊阙大破魏国、韩国联军，歼敌24万，夺取魏城数座及韩国安邑以东大部分地区。魏、韩两国割地求和。</p>
<h4 id="齐灭宋"><a href="#齐灭宋" class="headerlink" title="齐灭宋"></a>齐灭宋</h4><p>齐灭宋之战发生於前286年，战国时代齐国攻灭宋国的一场战争。</p>
<h4 id="燕破齐"><a href="#燕破齐" class="headerlink" title="燕破齐"></a>燕破齐</h4><p>赵国赵武灵王派兵护送在韩国的燕国公子职回到燕国，即燕昭王。燕昭王不忘齐国灭国之仇，在前284年，派乐毅大举进攻齐国，攻入临淄，也使齐国濒临灭亡达五年(前284年—前279年)——燕攻齐之战。</p>
<h4 id="鄢郢之战"><a href="#鄢郢之战" class="headerlink" title="鄢郢之战"></a>鄢郢之战</h4><p>鄢郢之战是指公元前279—前278年，秦国名将白起率军深入楚国腹地攻下楚国鄢(今湖北宜城东南)、郢(今湖北江陵西北)的大规模作战，此次作战的胜利使得秦国获得了楚国大量国土，同时也对楚国予以了严重打击。</p>
<h4 id="华阳之战"><a href="#华阳之战" class="headerlink" title="华阳之战"></a>华阳之战</h4><p>华阳之战周赧王四十二年(公元前273年)，秦将白起于华阳(今河南新郑北)各个击破赵、魏联军的一次长途奔袭作战。</p>
<h4 id="阏与之战"><a href="#阏与之战" class="headerlink" title="阏与之战"></a>阏与之战</h4><p>周赧王四十六年(公元前269年)，赵国名将赵奢率军于阏与(今山西和顺西)，击败秦军的一次奔袭作战。</p>
<h4 id="陉城之战"><a href="#陉城之战" class="headerlink" title="陉城之战"></a>陉城之战</h4><p>公元前264年(周赧王五十一年)，秦武安君白起率军攻占韩国陉城(今山西曲沃东北)等9座城邑的作战。</p>
<h4 id="长平之战"><a href="#长平之战" class="headerlink" title="长平之战"></a>长平之战</h4><p>公元前262年，前后耗时三年(近年来有一说为前期僵持对峙二年六个月，后期白热战六个月)。是我国历史上最早、规模最大的包围歼灭战。此场战争，发生于最有实力统一中国的秦赵两国，极大地加速了秦国统一中国的进程。 据载秦军前后坑杀赵军四十万人，被后人认为是战国形势的转折点。 此战后，山东诸侯国均不再有对抗秦军的实力。</p>
<h4 id="五国攻秦之战"><a href="#五国攻秦之战" class="headerlink" title="五国攻秦之战"></a>五国攻秦之战</h4><p>五国攻秦之战是前241年赵、楚、魏、韩、燕五国联合进攻秦国的战争前241年，赵、楚、魏、韩、燕五国共推楚考烈王为纵约长，庞暖为联军主帅，共同攻打秦国。联军攻至函谷关时，秦军出击，诸侯联军败退。联军转而进攻秦国的盟国齐国，夺取了饶安(今河北省盐山县西南)。</p>
<h4 id="秦灭六国之战"><a href="#秦灭六国之战" class="headerlink" title="秦灭六国之战"></a>秦灭六国之战</h4><p>秦灭六国之战，既是战国末期最后一场诸侯兼并战争，又是中国历史上最早的一场封建统一战争。战国末年，在七雄中日益强大的秦国在秦王嬴政的领导下，从公元前230年到公元前221年，秦国用了10年的时间，相继灭掉了北方的燕、赵，中原的韩、魏，东方的齐和南方的楚六个国家，结束了春秋以来长达500余年的诸侯割据纷争的战乱局面，并建立起中国有史以来第一个大一统的君主制王朝——秦朝。秦王政改号称皇帝，即赫赫大名的秦始皇，中国历史从此翻开了崭新的一页。</p>

      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      
        <div class="post-tags">
          
            <a href="/tags/历史/" rel="tag"># 历史</a>
          
            <a href="/tags/春秋/" rel="tag"># 春秋</a>
          
            <a href="/tags/战国/" rel="tag"># 战国</a>
          
            <a href="/tags/周朝/" rel="tag"># 周朝</a>
          
            <a href="/tags/秦朝/" rel="tag"># 秦朝</a>
          
        </div>
      

      
      
      

      
        <div class="post-nav">
          <div class="post-nav-next post-nav-item">
            
              <a href="/2020/03/17/一致性hash环及优化方法/" rel="next" title="一致性hash环及优化方法">
                <i class="fa fa-chevron-left"></i> 一致性hash环及优化方法
              </a>
            
          </div>

          <span class="post-nav-divider"></span>

          <div class="post-nav-prev post-nav-item">
            
              <a href="/2020/08/24/计算机知识图谱/" rel="prev" title="计算机知识图谱">
                计算机知识图谱 <i class="fa fa-chevron-right"></i>
              </a>
            
          </div>
        </div>
      

      
      
    </footer>
  </div>
  
  
  
  </article>



    <div class="post-spread">
      
    </div>
  </div>


          </div>
          


          

  
    <div class="comments" id="comments">
    </div>
  



        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    
    <div class="sidebar-inner">

      

      
        <ul class="sidebar-nav motion-element">
          <li class="sidebar-nav-toc sidebar-nav-active" data-target="post-toc-wrap">
            文章目录
          </li>
          <li class="sidebar-nav-overview" data-target="site-overview-wrap">
            站点概览
          </li>
        </ul>
      

      <section class="site-overview-wrap sidebar-panel">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
            
              <p class="site-author-name" itemprop="name">hihcys</p>
              <p class="site-description motion-element" itemprop="description">所以表不忘初心，而必果本愿也。</p>
          </div>

          <nav class="site-state motion-element">

            
              <div class="site-state-item site-state-posts">
              
                <a href="/archives/">
              
                  <span class="site-state-item-count">11</span>
                  <span class="site-state-item-name">日志</span>
                </a>
              </div>
            

            

            
              
              
              <div class="site-state-item site-state-tags">
                <a href="/tags/index.html">
                  <span class="site-state-item-count">51</span>
                  <span class="site-state-item-name">标签</span>
                </a>
              </div>
            

          </nav>

          

          

          
          

          
          

          

        </div>
      </section>

      
      <!--noindex-->
        <section class="post-toc-wrap motion-element sidebar-panel sidebar-panel-active">
          <div class="post-toc">

            
              
            

            
              <div class="post-toc-content"><ol class="nav"><li class="nav-item nav-level-2"><a class="nav-link" href="#春秋时期"><span class="nav-number">1.</span> <span class="nav-text">春秋时期</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#重要事件"><span class="nav-number">1.1.</span> <span class="nav-text">重要事件</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#周平王迁都"><span class="nav-number">1.1.1.</span> <span class="nav-text">周平王迁都</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#卿士郑庄公"><span class="nav-number">1.1.2.</span> <span class="nav-text">卿士郑庄公</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#齐桓公称霸"><span class="nav-number">1.1.3.</span> <span class="nav-text">齐桓公称霸</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#宋楚之争"><span class="nav-number">1.1.4.</span> <span class="nav-text">宋楚之争</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#晋文公践土之盟"><span class="nav-number">1.1.5.</span> <span class="nav-text">晋文公践土之盟</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#秦穆公独霸西戎"><span class="nav-number">1.1.6.</span> <span class="nav-text">秦穆公独霸西戎</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#楚庄王问鼎中原"><span class="nav-number">1.1.7.</span> <span class="nav-text">楚庄王问鼎中原</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#晋楚大战与弭兵会盟"><span class="nav-number">1.1.8.</span> <span class="nav-text">晋楚大战与弭兵会盟</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#吴越雄霸东南"><span class="nav-number">1.1.9.</span> <span class="nav-text">吴越雄霸东南</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#三家分晋"><span class="nav-number">1.1.10.</span> <span class="nav-text">三家分晋</span></a></li></ol></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#战国时期"><span class="nav-number">2.</span> <span class="nav-text">战国时期</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#重要事件-1"><span class="nav-number">2.1.</span> <span class="nav-text">重要事件</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#李悝变法"><span class="nav-number">2.1.1.</span> <span class="nav-text">李悝变法</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#魏灭中山"><span class="nav-number">2.1.2.</span> <span class="nav-text">魏灭中山</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#三晋伐齐之战"><span class="nav-number">2.1.3.</span> <span class="nav-text">三晋伐齐之战</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#吴起变法"><span class="nav-number">2.1.4.</span> <span class="nav-text">吴起变法</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#阴晋之战"><span class="nav-number">2.1.5.</span> <span class="nav-text">阴晋之战</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#韩灭郑"><span class="nav-number">2.1.6.</span> <span class="nav-text">韩灭郑</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#浊泽之战"><span class="nav-number">2.1.7.</span> <span class="nav-text">浊泽之战</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#商鞅变法"><span class="nav-number">2.1.8.</span> <span class="nav-text">商鞅变法</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#桂陵之战"><span class="nav-number">2.1.9.</span> <span class="nav-text">桂陵之战</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#马陵之战"><span class="nav-number">2.1.10.</span> <span class="nav-text">马陵之战</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#第五次河西之战"><span class="nav-number">2.1.11.</span> <span class="nav-text">第五次河西之战</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#秦灭巴蜀"><span class="nav-number">2.1.12.</span> <span class="nav-text">秦灭巴蜀</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#齐破燕"><span class="nav-number">2.1.13.</span> <span class="nav-text">齐破燕</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#楚灭越"><span class="nav-number">2.1.14.</span> <span class="nav-text">楚灭越</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#伊阙之战"><span class="nav-number">2.1.15.</span> <span class="nav-text">伊阙之战</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#齐灭宋"><span class="nav-number">2.1.16.</span> <span class="nav-text">齐灭宋</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#燕破齐"><span class="nav-number">2.1.17.</span> <span class="nav-text">燕破齐</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#鄢郢之战"><span class="nav-number">2.1.18.</span> <span class="nav-text">鄢郢之战</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#华阳之战"><span class="nav-number">2.1.19.</span> <span class="nav-text">华阳之战</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#阏与之战"><span class="nav-number">2.1.20.</span> <span class="nav-text">阏与之战</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#陉城之战"><span class="nav-number">2.1.21.</span> <span class="nav-text">陉城之战</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#长平之战"><span class="nav-number">2.1.22.</span> <span class="nav-text">长平之战</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#五国攻秦之战"><span class="nav-number">2.1.23.</span> <span class="nav-text">五国攻秦之战</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#秦灭六国之战"><span class="nav-number">2.1.24.</span> <span class="nav-text">秦灭六国之战</span></a></li></ol></li></ol></li></ol></div>
            

          </div>
        </section>
      <!--/noindex-->
      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">&copy; <span itemprop="copyrightYear">2020</span>
  <span class="with-love">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">hihcys</span>

  
</div>


  <div class="powered-by">由 <a class="theme-link" target="_blank" href="https://hexo.io">Hexo</a> 强力驱动</div>



  <span class="post-meta-divider">|</span>



  <div class="theme-info">主题 &mdash; <a class="theme-link" target="_blank" href="https://github.com/iissnan/hexo-theme-next">NexT.Mist</a> v5.1.4</div>




        







        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  












  
  
    <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>
  

  
  
    <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>
  

  
  
    <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>
  


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.4"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.4"></script>



  
  

  
  <script type="text/javascript" src="/js/src/scrollspy.js?v=5.1.4"></script>
<script type="text/javascript" src="/js/src/post-details.js?v=5.1.4"></script>



  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.4"></script>



  


  




	





  





  










  <script src="//cdn1.lncld.net/static/js/3.0.4/av-min.js"></script>
  <script src="//unpkg.com/valine/dist/Valine.min.js"></script>
  
  <script type="text/javascript">
    var GUEST = ['nick','mail','link'];
    var guest = 'nick,mail';
    guest = guest.split(',').filter(item=>{
      return GUEST.indexOf(item)>-1;
    });
    new Valine({
        el: '#comments' ,
        verify: false,
        notify: false,
        appId: 'T743mdisoJsi7u89cn25MF7l-gzGzoHsz',
        appKey: '3A2Si9lfscmm8MtL94C9ih48',
        placeholder: 'Just go go',
        avatar:'mm',
        guest_info:guest,
        pageSize:'10' || 10,
    });
  </script>



  

  <script type="text/javascript">
    // Popup Window;
    var isfetched = false;
    var isXml = true;
    // Search DB path;
    var search_path = "search.xml";
    if (search_path.length === 0) {
      search_path = "search.xml";
    } else if (/json$/i.test(search_path)) {
      isXml = false;
    }
    var path = "/" + search_path;
    // monitor main search box;

    var onPopupClose = function (e) {
      $('.popup').hide();
      $('#local-search-input').val('');
      $('.search-result-list').remove();
      $('#no-result').remove();
      $(".local-search-pop-overlay").remove();
      $('body').css('overflow', '');
    }

    function proceedsearch() {
      $("body")
        .append('<div class="search-popup-overlay local-search-pop-overlay"></div>')
        .css('overflow', 'hidden');
      $('.search-popup-overlay').click(onPopupClose);
      $('.popup').toggle();
      var $localSearchInput = $('#local-search-input');
      $localSearchInput.attr("autocapitalize", "none");
      $localSearchInput.attr("autocorrect", "off");
      $localSearchInput.focus();
    }

    // search function;
    var searchFunc = function(path, search_id, content_id) {
      'use strict';

      // start loading animation
      $("body")
        .append('<div class="search-popup-overlay local-search-pop-overlay">' +
          '<div id="search-loading-icon">' +
          '<i class="fa fa-spinner fa-pulse fa-5x fa-fw"></i>' +
          '</div>' +
          '</div>')
        .css('overflow', 'hidden');
      $("#search-loading-icon").css('margin', '20% auto 0 auto').css('text-align', 'center');

      $.ajax({
        url: path,
        dataType: isXml ? "xml" : "json",
        async: true,
        success: function(res) {
          // get the contents from search data
          isfetched = true;
          $('.popup').detach().appendTo('.header-inner');
          var datas = isXml ? $("entry", res).map(function() {
            return {
              title: $("title", this).text(),
              content: $("content",this).text(),
              url: $("url" , this).text()
            };
          }).get() : res;
          var input = document.getElementById(search_id);
          var resultContent = document.getElementById(content_id);
          var inputEventFunction = function() {
            var searchText = input.value.trim().toLowerCase();
            var keywords = searchText.split(/[\s\-]+/);
            if (keywords.length > 1) {
              keywords.push(searchText);
            }
            var resultItems = [];
            if (searchText.length > 0) {
              // perform local searching
              datas.forEach(function(data) {
                var isMatch = false;
                var hitCount = 0;
                var searchTextCount = 0;
                var title = data.title.trim();
                var titleInLowerCase = title.toLowerCase();
                var content = data.content.trim().replace(/<[^>]+>/g,"");
                var contentInLowerCase = content.toLowerCase();
                var articleUrl = decodeURIComponent(data.url);
                var indexOfTitle = [];
                var indexOfContent = [];
                // only match articles with not empty titles
                if(title != '') {
                  keywords.forEach(function(keyword) {
                    function getIndexByWord(word, text, caseSensitive) {
                      var wordLen = word.length;
                      if (wordLen === 0) {
                        return [];
                      }
                      var startPosition = 0, position = [], index = [];
                      if (!caseSensitive) {
                        text = text.toLowerCase();
                        word = word.toLowerCase();
                      }
                      while ((position = text.indexOf(word, startPosition)) > -1) {
                        index.push({position: position, word: word});
                        startPosition = position + wordLen;
                      }
                      return index;
                    }

                    indexOfTitle = indexOfTitle.concat(getIndexByWord(keyword, titleInLowerCase, false));
                    indexOfContent = indexOfContent.concat(getIndexByWord(keyword, contentInLowerCase, false));
                  });
                  if (indexOfTitle.length > 0 || indexOfContent.length > 0) {
                    isMatch = true;
                    hitCount = indexOfTitle.length + indexOfContent.length;
                  }
                }

                // show search results

                if (isMatch) {
                  // sort index by position of keyword

                  [indexOfTitle, indexOfContent].forEach(function (index) {
                    index.sort(function (itemLeft, itemRight) {
                      if (itemRight.position !== itemLeft.position) {
                        return itemRight.position - itemLeft.position;
                      } else {
                        return itemLeft.word.length - itemRight.word.length;
                      }
                    });
                  });

                  // merge hits into slices

                  function mergeIntoSlice(text, start, end, index) {
                    var item = index[index.length - 1];
                    var position = item.position;
                    var word = item.word;
                    var hits = [];
                    var searchTextCountInSlice = 0;
                    while (position + word.length <= end && index.length != 0) {
                      if (word === searchText) {
                        searchTextCountInSlice++;
                      }
                      hits.push({position: position, length: word.length});
                      var wordEnd = position + word.length;

                      // move to next position of hit

                      index.pop();
                      while (index.length != 0) {
                        item = index[index.length - 1];
                        position = item.position;
                        word = item.word;
                        if (wordEnd > position) {
                          index.pop();
                        } else {
                          break;
                        }
                      }
                    }
                    searchTextCount += searchTextCountInSlice;
                    return {
                      hits: hits,
                      start: start,
                      end: end,
                      searchTextCount: searchTextCountInSlice
                    };
                  }

                  var slicesOfTitle = [];
                  if (indexOfTitle.length != 0) {
                    slicesOfTitle.push(mergeIntoSlice(title, 0, title.length, indexOfTitle));
                  }

                  var slicesOfContent = [];
                  while (indexOfContent.length != 0) {
                    var item = indexOfContent[indexOfContent.length - 1];
                    var position = item.position;
                    var word = item.word;
                    // cut out 100 characters
                    var start = position - 20;
                    var end = position + 80;
                    if(start < 0){
                      start = 0;
                    }
                    if (end < position + word.length) {
                      end = position + word.length;
                    }
                    if(end > content.length){
                      end = content.length;
                    }
                    slicesOfContent.push(mergeIntoSlice(content, start, end, indexOfContent));
                  }

                  // sort slices in content by search text's count and hits' count

                  slicesOfContent.sort(function (sliceLeft, sliceRight) {
                    if (sliceLeft.searchTextCount !== sliceRight.searchTextCount) {
                      return sliceRight.searchTextCount - sliceLeft.searchTextCount;
                    } else if (sliceLeft.hits.length !== sliceRight.hits.length) {
                      return sliceRight.hits.length - sliceLeft.hits.length;
                    } else {
                      return sliceLeft.start - sliceRight.start;
                    }
                  });

                  // select top N slices in content

                  var upperBound = parseInt('1');
                  if (upperBound >= 0) {
                    slicesOfContent = slicesOfContent.slice(0, upperBound);
                  }

                  // highlight title and content

                  function highlightKeyword(text, slice) {
                    var result = '';
                    var prevEnd = slice.start;
                    slice.hits.forEach(function (hit) {
                      result += text.substring(prevEnd, hit.position);
                      var end = hit.position + hit.length;
                      result += '<b class="search-keyword">' + text.substring(hit.position, end) + '</b>';
                      prevEnd = end;
                    });
                    result += text.substring(prevEnd, slice.end);
                    return result;
                  }

                  var resultItem = '';

                  if (slicesOfTitle.length != 0) {
                    resultItem += "<li><a href='" + articleUrl + "' class='search-result-title'>" + highlightKeyword(title, slicesOfTitle[0]) + "</a>";
                  } else {
                    resultItem += "<li><a href='" + articleUrl + "' class='search-result-title'>" + title + "</a>";
                  }

                  slicesOfContent.forEach(function (slice) {
                    resultItem += "<a href='" + articleUrl + "'>" +
                      "<p class=\"search-result\">" + highlightKeyword(content, slice) +
                      "...</p>" + "</a>";
                  });

                  resultItem += "</li>";
                  resultItems.push({
                    item: resultItem,
                    searchTextCount: searchTextCount,
                    hitCount: hitCount,
                    id: resultItems.length
                  });
                }
              })
            };
            if (keywords.length === 1 && keywords[0] === "") {
              resultContent.innerHTML = '<div id="no-result"><i class="fa fa-search fa-5x" /></div>'
            } else if (resultItems.length === 0) {
              resultContent.innerHTML = '<div id="no-result"><i class="fa fa-frown-o fa-5x" /></div>'
            } else {
              resultItems.sort(function (resultLeft, resultRight) {
                if (resultLeft.searchTextCount !== resultRight.searchTextCount) {
                  return resultRight.searchTextCount - resultLeft.searchTextCount;
                } else if (resultLeft.hitCount !== resultRight.hitCount) {
                  return resultRight.hitCount - resultLeft.hitCount;
                } else {
                  return resultRight.id - resultLeft.id;
                }
              });
              var searchResultList = '<ul class=\"search-result-list\">';
              resultItems.forEach(function (result) {
                searchResultList += result.item;
              })
              searchResultList += "</ul>";
              resultContent.innerHTML = searchResultList;
            }
          }

          if ('auto' === 'auto') {
            input.addEventListener('input', inputEventFunction);
          } else {
            $('.search-icon').click(inputEventFunction);
            input.addEventListener('keypress', function (event) {
              if (event.keyCode === 13) {
                inputEventFunction();
              }
            });
          }

          // remove loading animation
          $(".local-search-pop-overlay").remove();
          $('body').css('overflow', '');

          proceedsearch();
        }
      });
    }

    // handle and trigger popup window;
    $('.popup-trigger').click(function(e) {
      e.stopPropagation();
      if (isfetched === false) {
        searchFunc(path, 'local-search-input', 'local-search-result');
      } else {
        proceedsearch();
      };
    });

    $('.popup-btn-close').click(onPopupClose);
    $('.popup').click(function(e){
      e.stopPropagation();
    });
    $(document).on('keyup', function (event) {
      var shouldDismissSearchPopup = event.which === 27 &&
        $('.search-popup').is(':visible');
      if (shouldDismissSearchPopup) {
        onPopupClose();
      }
    });
  </script>





  

  
  <script src="https://cdn1.lncld.net/static/js/av-core-mini-0.6.4.js"></script>
  <script>AV.initialize("T743mdisoJsi7u89cn25MF7l-gzGzoHsz", "3A2Si9lfscmm8MtL94C9ih48");</script>
  <script>
    function showTime(Counter) {
      var query = new AV.Query(Counter);
      var entries = [];
      var $visitors = $(".leancloud_visitors");

      $visitors.each(function () {
        entries.push( $(this).attr("id").trim() );
      });

      query.containedIn('url', entries);
      query.find()
        .done(function (results) {
          var COUNT_CONTAINER_REF = '.leancloud-visitors-count';

          if (results.length === 0) {
            $visitors.find(COUNT_CONTAINER_REF).text(0);
            return;
          }

          for (var i = 0; i < results.length; i++) {
            var item = results[i];
            var url = item.get('url');
            var time = item.get('time');
            var element = document.getElementById(url);

            $(element).find(COUNT_CONTAINER_REF).text(time);
          }
          for(var i = 0; i < entries.length; i++) {
            var url = entries[i];
            var element = document.getElementById(url);
            var countSpan = $(element).find(COUNT_CONTAINER_REF);
            if( countSpan.text() == '') {
              countSpan.text(0);
            }
          }
        })
        .fail(function (object, error) {
          console.log("Error: " + error.code + " " + error.message);
        });
    }

    function addCount(Counter) {
      var $visitors = $(".leancloud_visitors");
      var url = $visitors.attr('id').trim();
      var title = $visitors.attr('data-flag-title').trim();
      var query = new AV.Query(Counter);

      query.equalTo("url", url);
      query.find({
        success: function(results) {
          if (results.length > 0) {
            var counter = results[0];
            counter.fetchWhenSave(true);
            counter.increment("time");
            counter.save(null, {
              success: function(counter) {
                var $element = $(document.getElementById(url));
                $element.find('.leancloud-visitors-count').text(counter.get('time'));
              },
              error: function(counter, error) {
                console.log('Failed to save Visitor num, with error message: ' + error.message);
              }
            });
          } else {
            var newcounter = new Counter();
            /* Set ACL */
            var acl = new AV.ACL();
            acl.setPublicReadAccess(true);
            acl.setPublicWriteAccess(true);
            newcounter.setACL(acl);
            /* End Set ACL */
            newcounter.set("title", title);
            newcounter.set("url", url);
            newcounter.set("time", 1);
            newcounter.save(null, {
              success: function(newcounter) {
                var $element = $(document.getElementById(url));
                $element.find('.leancloud-visitors-count').text(newcounter.get('time'));
              },
              error: function(newcounter, error) {
                console.log('Failed to create');
              }
            });
          }
        },
        error: function(error) {
          console.log('Error:' + error.code + " " + error.message);
        }
      });
    }

    $(function() {
      var Counter = AV.Object.extend("Counter");
      if ($('.leancloud_visitors').length == 1) {
        addCount(Counter);
      } else if ($('.post-title-link').length > 1) {
        showTime(Counter);
      }
    });
  </script>



  

  

  
  

  

  

  

</body>
</html>
